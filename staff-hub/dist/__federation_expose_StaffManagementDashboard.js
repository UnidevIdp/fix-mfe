"use strict";(self.webpackChunk_common_staff_hub=self.webpackChunk_common_staff_hub||[]).push([["993"],{1039:function(e,t,r){r.r(t),r.d(t,{StaffFilters:()=>i,default:()=>c});var n=r(4076),a=r(587),o=r.n(a),l=r(4295);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e){var t,r=e.onSearch,a=e.onFilterChange,i=e.loading,c=e.className,u=e.searchResultsCount,f=e.totalStaffCount,d=e.currentSearchQuery,h=(t=o().useState({roles:[],employmentTypes:[],departments:[],isActive:void 0}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){s=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=h[0],g=h[1];return(0,n.jsx)(l.EntitySearchAndFilters,{entityName:"staff",placeholder:"Search staff by name or email...",onSearch:function(e){null==r||r(e)},loading:void 0!==i&&i,resultsCount:u,totalCount:f,value:d,filterSections:[{key:"roles",label:"Role",type:"multiselect",options:[{label:"Manager",value:"manager"},{label:"Employee",value:"employee"},{label:"Intern",value:"intern"},{label:"Contractor",value:"contractor"}]},{key:"employmentTypes",label:"Employment Type",type:"multiselect",options:[{label:"Full Time",value:"full_time"},{label:"Part Time",value:"part_time"},{label:"Contract",value:"contract"},{label:"Intern",value:"intern"}]},{key:"departments",label:"Department",type:"multiselect",options:[{label:"Engineering",value:"Engineering"},{label:"Sales",value:"Sales"},{label:"Marketing",value:"Marketing"},{label:"HR",value:"HR"},{label:"Finance",value:"Finance"}]},{key:"isActive",label:"Status",type:"select",options:[{label:"All",value:void 0},{label:"Active",value:!0},{label:"Inactive",value:!1}]}],filters:m,onFiltersChange:function(e){g(e),null==a||a(e)},className:void 0===c?"":c})};let c=i},623:function(e,t,r){r.r(t),r.d(t,{StaffManagementDashboard:()=>z,default:()=>E});var n=r(4076),a=r(587),o=r.n(a),l=r(1674),s=r(1916),i=r(5825),c=r(8386),u=r(1280),f=r(230),d=r(6141),h=r(6598),m=r(2371),g=r(578),b=r(638),v=r(6606),p=r(4621),y=r(8460),x=r(1849),S=r(4545),j=r(8008),k=r(4295),w=r(3971),C=r(1039);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t,r,n,a,o,l){try{var s=e[o](l),i=s.value}catch(e){r(e);return}s.done?t(i):Promise.resolve(i).then(n,a)}function T(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function l(e){A(o,n,a,l,s,"next",e)}function s(e){A(o,n,a,l,s,"throw",e)}l(void 0)})}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){s=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw n}}return o}}(e,t)||D(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}}function R(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=s(0),l.throw=s(1),l.return=s(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(s){return function(i){var c=[s,i];if(r)throw TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var z=function(e){var t=e.staff,r=e.selectedStaff,A=e.loading,z=e.error,E=e.searchQuery,B=(e.filters,e.onStaffSelect),M=e.onStaffCreate,F=e.onStaffUpdate,P=e.onStaffDelete,Z=e.onSearch,O=e.onFilterChange,_=e.onRefresh,L=e.className,U=e.initialViewMode,W=e.onViewModeChange,$=(0,k.useMfeRouter)("staff-hub"),V=$.navigate,G=$.location,H=$.hasRouter,X=N((0,a.useState)("list"),2),Q=X[0],Y=X[1],J=N((0,a.useState)(null),2),q=(J[0],J[1]);(0,a.useEffect)(function(){if(U)return void console.log("[StaffDashboard] Using initialViewMode:",U);var e=G.pathname;if(console.log("[StaffDashboard] URL changed:",e),e.includes("/create"))console.log("[StaffDashboard] Setting mode to create"),Y("create"),q(null);else if(e.includes("/edit")){console.log("[StaffDashboard] Setting mode to detail (edit mode)");var n=e.match(/\/staff\/([^\/]+)\/edit/);if(n){var a=n[1];q(a),Y("detail");var o=t.find(function(e){return e.id===a});o&&!r&&B(o)}}else if(e.includes("/view")||e.match(/\/staff\/[^\/]+$/)){console.log("[StaffDashboard] Setting mode to detail (view mode)");var l=e.match(/\/staff\/([^\/]+)(?:\/view)?$/);if(l){var s=l[1];q(s),Y("detail");var i=t.find(function(e){return e.id===s});i&&!r&&B(i)}}else console.log("[StaffDashboard] Setting mode to list"),Y("list"),q(null)},[G.pathname,t,r,B,U]);var K=U||Q,ee=W?function(e){return W(e)}:Y,et=N((0,a.useState)([]),2),er=et[0],en=et[1],ea=N((0,a.useState)("none"),2),eo=ea[0],el=ea[1],es={total:t.length,active:t.filter(function(e){return e.isActive}).length,inactive:t.filter(function(e){return!e.isActive}).length,managers:t.filter(function(e){return"manager"===e.role}).length,employees:t.filter(function(e){return"employee"===e.role}).length},ei=(0,a.useCallback)(function(e){B(e),ee("detail"),W||V(w.StaffRoutes.view(e.id))},[B,V,W]),ec=(0,a.useCallback)(function(){ee("list"),en([]),W||V(w.StaffRoutes.list())},[V,W]),eu=(0,a.useCallback)(function(){ee("create"),W||V(w.StaffRoutes.create())},[V,W]),ef=(0,a.useCallback)(function(e,t){en(function(r){return t?((function(e){if(Array.isArray(e))return I(e)})(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||D(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e]):r.filter(function(t){return t!==e})})},[]),ed=(0,a.useCallback)(function(){er.length===t.length?en([]):en(t.map(function(e){return e.id}))},[t,er.length]),eh=(0,a.useCallback)(function(){return T(function(){var e,t,r,n,a,o,l;return R(this,function(s){switch(s.label){case 0:if("none"===eo||0===er.length||!confirm({delete:"Are you sure you want to delete ".concat(er.length," staff members?"),activate:"Are you sure you want to activate ".concat(er.length," staff members?"),deactivate:"Are you sure you want to deactivate ".concat(er.length," staff members?")}[eo]))return[2];s.label=1;case 1:s.trys.push([1,12,,13]),e=!0,t=!1,r=void 0,s.label=2;case 2:s.trys.push([2,9,10,11]),n=er[Symbol.iterator](),s.label=3;case 3:if(e=(a=n.next()).done)return[3,8];if(o=a.value,"delete"!==eo)return[3,5];return[4,P(o)];case 4:return s.sent(),[3,7];case 5:return[4,F(o,{isActive:"activate"===eo})];case 6:s.sent(),s.label=7;case 7:return e=!0,[3,3];case 8:return[3,11];case 9:return l=s.sent(),t=!0,r=l,[3,11];case 10:try{e||null==n.return||n.return()}finally{if(t)throw r}return[7];case 11:return en([]),el("none"),_(),[3,13];case 12:return console.error("Bulk action failed:",s.sent()),[3,13];case 13:return[2]}})})()},[eo,er,P,F,_]);if("detail"===K&&r)return(0,n.jsx)(l.StaffDetailPage,{staffId:r.id,onBack:ec,onEdit:function(e){return T(function(){return R(this,function(t){switch(t.label){case 0:return[4,F(e.id,e)];case 1:return t.sent(),_(),[2]}})})()},onEditMode:function(){V(w.StaffRoutes.edit(r.id))},onDelete:function(e){return T(function(){return R(this,function(t){switch(t.label){case 0:return[4,P(e)];case 1:return t.sent(),ec(),_(),[2]}})})()}});if("create"===K)return(0,n.jsxs)("div",{style:{width:"100%",margin:"0 auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[(0,n.jsx)("button",{onClick:ec,style:{padding:"0.5rem",backgroundColor:"transparent",border:"1px solid var(--staff-dashboard-border, hsl(var(--border)))",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem"},children:"← Back to Staff List"}),(0,n.jsx)("h2",{style:{margin:0,fontSize:"1.5rem"},children:"Add New Staff Member"})]}),(0,n.jsx)(s.o,{onSubmit:function(e,t){return T(function(){var r;return R(this,function(n){switch(n.label){case 0:return n.trys.push([0,7,,8]),[4,M(e)];case 1:if(!(r=n.sent()))return[3,6];if(!(t&&t.length>0))return[3,5];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,(0,i.uploadStaffDocuments)(r.id,t)];case 3:return n.sent(),console.log("Successfully uploaded ".concat(t.length," documents for staff member ").concat(r.id)),[3,5];case 4:return console.error("Failed to upload documents:",n.sent()),[3,5];case 5:ec(),_(),n.label=6;case 6:return[3,8];case 7:return console.error("Failed to create staff:",n.sent()),[3,8];case 8:return[2]}})})()},onCancel:ec,loading:A})]});var em=H?(0,w.getBreadcrumbs)(G.pathname,r?"".concat(r.firstName," ").concat(r.lastName):void 0):[];return(0,n.jsxs)("div",{className:"space-y-6 ".concat(void 0===L?"":L),children:[H&&0!==em.length?(0,n.jsx)("nav",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-6",children:em.map(function(e,t){return(0,n.jsxs)(o().Fragment,{children:[t>0&&(0,n.jsx)("span",{className:"text-muted-foreground/60",children:"/"}),t===em.length-1?(0,n.jsx)("span",{className:"text-foreground font-medium",children:e.label}):(0,n.jsx)("button",{onClick:function(){return V(e.href)},className:"hover:text-foreground transition-colors",children:e.label})]},e.href)})}):null,(0,n.jsx)("div",{className:"flex gap-4 mb-6",children:[{icon:c.Z,value:es.total,label:"Total Staff",color:"rgb(59, 130, 246)",bgColor:"rgb(219, 234, 254)"},{icon:u.Z,value:es.active,label:"Active",color:"rgb(34, 197, 94)",bgColor:"rgb(220, 252, 231)"},{icon:f.Z,value:es.inactive,label:"Inactive",color:"rgb(239, 68, 68)",bgColor:"rgb(254, 226, 226)"},{icon:d.Z,value:es.managers,label:"Managers",color:"rgb(168, 85, 247)",bgColor:"rgb(243, 232, 255)"}].map(function(e){var t=e.icon,r=e.value,a=e.label,o=e.color,l=e.bgColor;return(0,n.jsx)(j.Card,{className:"flex-1 hover:shadow-md transition-all duration-200",children:(0,n.jsx)(j.CardContent,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",style:{backgroundColor:l},children:(0,n.jsx)(t,{size:18,color:o})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-foreground",children:r}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:a})]})]})})},a)})}),(0,n.jsx)(j.Card,{children:(0,n.jsx)(j.CardContent,{className:"p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Staff Directory"}),er.length>0&&(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("span",{className:"text-sm text-muted-foreground",children:[er.length," selected"]}),(0,n.jsxs)(j.Select,{value:eo,onValueChange:function(e){return el(e)},children:[(0,n.jsx)(j.SelectTrigger,{className:"w-32",children:(0,n.jsx)(j.SelectValue,{placeholder:"Bulk Actions"})}),(0,n.jsxs)(j.SelectContent,{className:"bg-background border border-border shadow-lg",children:[(0,n.jsx)(j.SelectItem,{value:"none",children:"Bulk Actions"}),(0,n.jsx)(j.SelectItem,{value:"activate",children:"Activate"}),(0,n.jsx)(j.SelectItem,{value:"deactivate",children:"Deactivate"}),(0,n.jsx)(j.SelectItem,{value:"delete",children:"Delete"})]})]}),(0,n.jsx)(j.Button,{onClick:eh,disabled:"none"===eo,size:"sm",variant:"delete"===eo?"destructive":"default",children:"Apply"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(j.Button,{variant:"outline",onClick:_,className:"gap-2",children:[(0,n.jsx)(h.Z,{size:16}),"Refresh"]}),(0,n.jsxs)(j.Button,{variant:"secondary",onClick:function(){return ee("bulk")},className:"gap-2",children:[(0,n.jsx)(m.Z,{size:16}),"Bulk Manage"]}),(0,n.jsxs)(j.Button,{onClick:eu,className:"gap-2 px-6 py-2 text-sm font-semibold shadow-md hover:shadow-lg bg-blue-600 hover:bg-blue-700",children:[(0,n.jsx)(g.Z,{size:16}),"Add Staff"]})]})]})})}),(0,n.jsx)(C.StaffFilters,{onSearch:Z,onFilterChange:O,loading:A,searchResultsCount:t.length,totalStaffCount:es.total,currentSearchQuery:E}),"bulk"===K&&(0,n.jsx)("div",{style:{padding:"1rem",backgroundColor:"var(--staff-dashboard-bulk-bg, hsl(var(--accent)) / 0.1)",borderRadius:"0.75rem",border:"1px solid var(--staff-dashboard-accent, hsl(var(--accent)))"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,n.jsx)("h3",{className:"text-base font-semibold",children:"Bulk Management Mode"}),(0,n.jsx)(j.Button,{size:"sm",onClick:ed,children:er.length===t.length?"Deselect All":"Select All"})]}),(0,n.jsx)(j.Button,{size:"sm",variant:"outline",onClick:function(){return ee("list")},children:"Exit Bulk Mode"})]})}),(0,n.jsx)(j.Card,{className:"overflow-hidden",children:z?(0,n.jsxs)("div",{style:{padding:"3rem",textAlign:"center"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",backgroundColor:"rgb(254, 226, 226)",borderRadius:"50%",margin:"0 auto 1rem auto"},children:(0,n.jsx)(b.Z,{size:32,color:"rgb(239, 68, 68)"})}),(0,n.jsx)("h3",{style:{color:"var(--staff-dashboard-foreground, hsl(var(--foreground)))",marginBottom:"0.5rem",fontSize:"1.25rem",fontWeight:"600"},children:"Failed to Load Staff Data"}),(0,n.jsx)("p",{style:{color:"var(--staff-dashboard-muted, hsl(var(--muted-foreground)))",marginBottom:"1.5rem",fontSize:"0.875rem"},children:z}),(0,n.jsxs)("button",{onClick:_,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",backgroundColor:"rgb(59, 130, 246)",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s ease-in-out"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="rgb(37, 99, 235)"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="rgb(59, 130, 246)"},children:[(0,n.jsx)(h.Z,{size:16}),"Try Again"]})]}):0===t.length?(0,n.jsxs)("div",{style:{padding:"3rem",textAlign:"center",color:"var(--staff-dashboard-muted, hsl(var(--muted-foreground)))"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"80px",height:"80px",backgroundColor:"rgb(243, 244, 246)",borderRadius:"50%",margin:"0 auto 1rem auto"},children:(0,n.jsx)(v.Z,{size:32,color:"rgb(107, 114, 128)"})}),(0,n.jsx)("h3",{children:"No staff members found"}),(0,n.jsx)("p",{children:"Try adjusting your search criteria or add your first team member."})]}):(0,n.jsx)("div",{style:{overflow:"auto",maxHeight:"600px"},children:t.map(function(e,r){var a,o,l,s=er.includes(e.id),i=r%2==0;return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"1rem",backgroundColor:i?"var(--staff-dashboard-row-even, transparent)":"var(--staff-dashboard-row-odd, hsl(var(--muted)) / 0.05)",borderBottom:r<t.length-1?"1px solid var(--staff-dashboard-border, hsl(var(--border)))":"none",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="var(--staff-dashboard-hover, hsl(var(--accent)) / 0.1)"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor=i?"var(--staff-dashboard-row-even, transparent)":"var(--staff-dashboard-row-odd, hsl(var(--muted)) / 0.05)"},children:["bulk"===K&&(0,n.jsx)("input",{type:"checkbox",checked:s,onChange:function(t){return ef(e.id,t.target.checked)},style:{marginRight:"1rem"},onClick:function(e){return e.stopPropagation()}}),(0,n.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"var(--staff-dashboard-avatar-bg, hsl(var(--primary)))",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem",fontWeight:"600",marginRight:"1rem",flexShrink:0},children:"".concat((null==(a=e.firstName)?void 0:a[0])||"?").concat((null==(o=e.lastName)?void 0:o[0])||"?").toUpperCase()}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},onClick:function(){return!K.includes("bulk")&&ei(e)},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,n.jsxs)("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[e.firstName||"Unknown"," ",e.lastName||"User"]}),(0,n.jsx)("span",{style:{padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"manager"===e.role?"var(--staff-dashboard-manager-bg, hsl(var(--primary)) / 0.1)":"var(--staff-dashboard-employee-bg, hsl(var(--secondary)) / 0.1)",color:"manager"===e.role?"var(--staff-dashboard-manager-text, hsl(var(--primary)))":"var(--staff-dashboard-employee-text, hsl(var(--secondary-foreground)))",textTransform:"capitalize"},children:e.role||"N/A"}),(0,n.jsx)("span",{style:{padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"500",border:"1.5px solid",borderColor:e.isActive?"#16a34a":"#6b7280",backgroundColor:e.isActive?"#dcfce7":"#f3f4f6",color:e.isActive?"#166534":"#374151"},children:e.isActive?"Active":"Inactive"})]}),(0,n.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--staff-dashboard-muted, hsl(var(--muted-foreground)))",display:"flex",alignItems:"center",gap:"1rem"},children:[(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[(0,n.jsx)(p.Z,{size:14,color:"rgb(107, 114, 128)"}),e.email||"No email"]}),(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[(0,n.jsx)(y.Z,{size:14,color:"rgb(107, 114, 128)"}),e.departmentId||"No Department"]}),(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.375rem"},children:[(0,n.jsx)(x.Z,{size:14,color:"rgb(107, 114, 128)"}),(null==(l=e.employmentType)?void 0:l.replace("_"," "))||"N/A"]})]})]}),"bulk"!==K&&(0,n.jsx)("div",{style:{display:"flex",gap:"0.5rem",marginLeft:"1rem"},children:(0,n.jsx)("button",{onClick:function(t){t.stopPropagation(),ei(e)},style:{padding:"0.5rem",backgroundColor:"transparent",color:"var(--staff-dashboard-icon-color, hsl(var(--muted-foreground)))",border:"1px solid var(--staff-dashboard-icon-border, hsl(var(--border)))",borderRadius:"0.5rem",cursor:"pointer",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease-in-out",minWidth:"2rem",minHeight:"2rem"},onMouseEnter:function(e){e.currentTarget.style.backgroundColor="var(--staff-dashboard-icon-hover-bg, hsl(var(--accent)))",e.currentTarget.style.color="var(--staff-dashboard-icon-hover-color, hsl(var(--accent-foreground)))",e.currentTarget.style.borderColor="var(--staff-dashboard-icon-hover-border, hsl(var(--accent-foreground)) / 0.2)",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 2px 8px hsl(var(--muted)) / 0.15"},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="var(--staff-dashboard-icon-color, hsl(var(--muted-foreground)))",e.currentTarget.style.borderColor="var(--staff-dashboard-icon-border, hsl(var(--border)))",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:(0,n.jsx)(S.Z,{size:16})})})]},e.id)})})})]})};let E=z},5825:function(e,t,r){r.r(t),r.d(t,{default:()=>h,deleteStaffDocument:()=>u,generateStaffDocumentPresignedURL:()=>f,getStaffDocuments:()=>c,staffApi:()=>d,uploadStaffDocuments:()=>i});var n=r(4295);function a(e,t,r,n,a,o,l){try{var s=e[o](l),i=s.value}catch(e){r(e);return}s.done?t(i):Promise.resolve(i).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var l=e.apply(t,r);function s(e){a(l,n,o,s,i,"next",e)}function i(e){a(l,n,o,s,i,"throw",e)}s(void 0)})}}function l(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=s(0),l.throw=s(1),l.return=s(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(s){return function(i){var c=[s,i];if(r)throw TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){o.label=c[1];break}if(6===c[0]&&o.label<a[1]){o.label=a[1],a=c;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(c);break}a[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var s=function(){var e=localStorage.getItem("tenantId");return e&&"default-tenant"!==e?e:"00000000-0000-0000-0000-000000000001"},i=function(e,t){return o(function(){return l(this,function(r){return[2,Promise.all(t.map(function(t){return o(function(){var r,n;return l(this,function(a){switch(a.label){case 0:return(r=new FormData).append("file",t),r.append("staff_id",e),r.append("isPublic","false"),r.append("tags","document_type:staff_document,uploaded_at:".concat(new Date().toISOString())),[4,fetch("/api/v1/staff/documents/upload",{method:"POST",body:r,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"X-Tenant-ID":s()}})];case 1:if(!(n=a.sent()).ok)throw Error("Failed to upload ".concat(t.name,": ").concat(n.statusText));return[2,n.json()]}})})()}))]})})()},c=function(e){return o(function(){var t;return l(this,function(r){switch(r.label){case 0:return[4,fetch("/api/v1/staff/".concat(e,"/documents"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"X-Tenant-ID":localStorage.getItem("tenantId")||"","Content-Type":"application/json"}})];case 1:if(!(t=r.sent()).ok)throw Error("Failed to get staff documents: ".concat(t.statusText));return[2,t.json()]}})})()},u=function(e,t,r){return o(function(){var n;return l(this,function(a){switch(a.label){case 0:return[4,fetch("/api/v1/staff/".concat(e,"/documents/").concat(t,"/").concat(r),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"X-Tenant-ID":localStorage.getItem("tenantId")||""}})];case 1:if(!(n=a.sent()).ok)throw Error("Failed to delete document: ".concat(n.statusText));return[2,n.json()]}})})()},f=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3600;return o(function(){var a;return l(this,function(o){switch(o.label){case 0:return[4,fetch("/api/v1/staff/".concat(e,"/documents/presigned-url"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"X-Tenant-ID":localStorage.getItem("tenantId")||"","Content-Type":"application/json"},body:JSON.stringify({path:t,bucket:"staff-documents",method:r,expiresIn:n})})];case 1:if(!(a=o.sent()).ok)throw Error("Failed to generate presigned URL: ".concat(a.statusText));return[2,a.json()]}})})()},d=n.defaultStaffApiClient;let h=d},3971:function(e,t,r){r.r(t),r.d(t,{StaffRoutes:()=>n,getBreadcrumbs:()=>a,getStaffIdFromPath:()=>o,getStaffModeFromPath:()=>s,isStaffRoute:()=>l});var n={dashboard:function(){return"/"},list:function(){return"/staff"},create:function(){return"/staff/create"},view:function(e){return"/staff/".concat(e,"/view")},edit:function(e){return"/staff/".concat(e,"/edit")},legacy:{profile:function(e){return"/staff/".concat(e)},list:function(){return"/staff-list"},profilePage:function(e){return"/staff-profile/".concat(e)}}},a=function(e,t){var r=[{label:"Dashboard",href:n.dashboard()}];if(e.startsWith("/staff")){if(r.push({label:"Staff",href:n.list()}),e.includes("/create"))r.push({label:"Create New Staff",href:n.create()});else if(e.includes("/edit")){var a=e.split("/")[2];t&&r.push({label:t,href:n.view(a)}),r.push({label:"Edit",href:n.edit(a)})}else if(e.includes("/view")||e.match(/\/staff\/[^\/]+$/)){var o=e.split("/")[2];t&&r.push({label:t,href:n.view(o)})}}return r},o=function(e){var t=e.match(/\/staff\/([^\/]+)/);return t?t[1]:null},l=function(e){return e.startsWith("/staff")},s=function(e){return e.includes("/create")?"create":e.includes("/edit")?"edit":e.includes("/view")||e.match(/\/staff\/[^\/]+$/)?"view":"list"}}}]);