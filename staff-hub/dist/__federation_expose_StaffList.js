"use strict";(self.webpackChunk_common_staff_hub=self.webpackChunk_common_staff_hub||[]).push([["415"],{2600:function(e,r,t){t.d(r,{Z:()=>o});var a=t(587);let s=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:d,...c},m)=>(0,a.createElement)("svg",{ref:m,...n,width:r,height:r,stroke:e,strokeWidth:s?24*Number(t)/Number(r):t,className:l("lucide",i),...!o&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(o)?o:[o]])),o=(e,r)=>{let t=(0,a.forwardRef)(({className:t,...n},o)=>(0,a.createElement)(i,{ref:o,iconNode:r,className:l(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...n}));return t.displayName=s(e),t}},6606:function(e,r,t){t.d(r,{Z:()=>a});let a=(0,t(2600).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8386:function(e,r,t){t.d(r,{Z:()=>a});let a=(0,t(2600).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},9057:function(e,r,t){t.d(r,{Z:()=>a});let a=(0,t(2600).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3013:function(e,r,t){t.r(r),t.d(r,{StaffList:()=>u,default:()=>h});var a=t(4076),s=t(587),l=t(8008),n=t(6606),i=t(9057),o=t(8386);function d(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=Array(r);t<r;t++)a[t]=e[t];return a}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,a,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var l=[],n=!0,i=!1;try{for(s=s.call(e);!(n=(t=s.next()).done)&&(l.push(t.value),!r||l.length!==r);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,r)}}(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e,r){var t=c((0,s.useState)(e),2),a=t[0],l=t[1],n=c((0,s.useState)(!1),2),i=n[0],o=n[1];return(0,s.useEffect)(function(){if(e===a)return void o(!1);o(!0);var t=setTimeout(function(){l(e),o(!1)},r);return function(){clearTimeout(t)}},[e,r,a]),{debouncedValue:a,isDebouncing:i}},u=function(e){var r=e.staff,t=e.onStaffClick,d=e.selectedStaff,u=e.className,h=void 0===u?"":u,f=e.loading,v=e.showSearch,x=void 0===v||v,p=e.showFilters,g=void 0===p||p,y=c((0,s.useState)(""),2),j=y[0],b=y[1],w=c((0,s.useState)("all"),2),N=w[0],S=w[1],C=c((0,s.useState)("all"),2),k=C[0],I=C[1],A=m(j,300),z=A.debouncedValue,T=A.isDebouncing,Z=(0,s.useCallback)(function(){b("")},[]);(0,s.useEffect)(function(){var e=function(e){"Escape"===e.key&&j&&Z()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[j,Z]);var E=(0,s.useMemo)(function(){return r?r.filter(function(e){var r,t,a,s=""===z||(null==(r=e.firstName)?void 0:r.toLowerCase().includes(z.toLowerCase()))||(null==(t=e.lastName)?void 0:t.toLowerCase().includes(z.toLowerCase()))||(null==(a=e.email)?void 0:a.toLowerCase().includes(z.toLowerCase())),l="all"===N||e.role===N,n="all"===k||"active"===k&&e.isActive||"inactive"===k&&!e.isActive;return s&&l&&n}):[]},[r,z,N,k]),L=x||g?E:r;return void 0!==f&&f?(0,a.jsxs)("div",{className:"space-y-3 ".concat(h),children:[x&&(0,a.jsx)(l.Card,{className:"hover:shadow-md transition-shadow duration-200 mb-6",children:(0,a.jsx)(l.CardContent,{className:"p-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(l.Input,{type:"text",placeholder:"Search staff by name or email...",className:"w-full pl-10 pr-16 transition-all duration-200",disabled:!0})]})})}),[1,2,3].map(function(e){return(0,a.jsx)("div",{style:{padding:"var(--staff-list-item-padding, 1rem)",border:"1px solid var(--staff-list-border-color, hsl(var(--border)))",borderRadius:"var(--staff-list-border-radius, 0.75rem)",backgroundColor:"var(--staff-list-bg, hsl(var(--card)))"},children:(0,a.jsx)(l.LoadingCard,{showAvatar:!0,avatarSize:"md",lines:2,className:"p-0"})},e)})]}):r&&0!==r.length?(0,a.jsxs)("div",{className:h,children:[x&&(0,a.jsx)(l.Card,{className:"hover:shadow-md transition-shadow duration-200 mb-6",children:(0,a.jsx)(l.CardContent,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10"}),(0,a.jsx)(l.Input,{type:"text",placeholder:"Search staff by name or email...",className:"w-full pl-10 pr-16 transition-all duration-200",value:j,onChange:function(e){return b(e.target.value)}}),T&&j&&(0,a.jsx)("div",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 z-10",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-blue-500"})}),j&&(0,a.jsx)(l.Button,{onClick:Z,variant:"ghost",size:"sm",className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 rounded-full hover:bg-red-50 hover:text-red-600 text-gray-400 transition-all duration-200 z-20 border border-gray-200 bg-white shadow-sm hover:border-red-200 hover:shadow-md",type:"button",title:"Clear search (Esc)",children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})]}),j&&(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-xs flex items-center gap-2",children:T?(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-amber-600 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),'Searching for "',j,'"...']}):(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-green-600 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Found ",L.length," result",1!==L.length?"s":"",z&&(0,a.jsxs)("span",{className:"text-gray-500 font-normal",children:['for "',z,'"']})]})}),!T&&j&&(0,a.jsxs)("button",{onClick:Z,className:"text-xs text-gray-400 hover:text-red-500 transition-colors duration-200 flex items-center gap-1",children:[(0,a.jsx)(i.Z,{className:"h-3 w-3"}),"Clear"]})]})]}),g&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.Select,{value:N,onValueChange:S,children:[(0,a.jsx)(l.SelectTrigger,{className:"w-40",children:(0,a.jsx)(l.SelectValue,{placeholder:"All Roles"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All Roles"}),(0,a.jsx)(l.SelectItem,{value:"super_admin",children:"Super Admin"}),(0,a.jsx)(l.SelectItem,{value:"admin",children:"Admin"}),(0,a.jsx)(l.SelectItem,{value:"manager",children:"Manager"}),(0,a.jsx)(l.SelectItem,{value:"employee",children:"Employee"}),(0,a.jsx)(l.SelectItem,{value:"guest",children:"Guest"})]})]}),(0,a.jsxs)(l.Select,{value:k,onValueChange:I,children:[(0,a.jsx)(l.SelectTrigger,{className:"w-32",children:(0,a.jsx)(l.SelectValue,{placeholder:"All Status"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All Status"}),(0,a.jsx)(l.SelectItem,{value:"active",children:"Active"}),(0,a.jsx)(l.SelectItem,{value:"inactive",children:"Inactive"})]})]})]})]})})}),(0,a.jsx)("div",{className:"space-y-3",children:L.map(function(e){var r,s,l,n=(null==d?void 0:d.id)===e.id,i="".concat((null==(r=e.firstName)?void 0:r[0])||"?").concat((null==(s=e.lastName)?void 0:s[0])||"?").toUpperCase();return(0,a.jsx)("div",{style:{padding:"var(--staff-list-item-padding, 1rem)",border:"2px solid ".concat(n?"var(--staff-list-selected-border, hsl(var(--primary)))":"var(--staff-list-border-color, hsl(var(--border)))"),borderRadius:"var(--staff-list-border-radius, 0.75rem)",backgroundColor:n?"var(--staff-list-selected-bg, hsl(var(--primary)) / 0.05)":"var(--staff-list-bg, hsl(var(--card)))",cursor:"pointer",transition:"all 0.2s ease-in-out",transform:n?"translateY(-1px)":"translateY(0)",boxShadow:n?"var(--staff-list-selected-shadow, 0 4px 12px hsl(var(--primary)) / 0.15)":"var(--staff-list-shadow, 0 1px 3px hsl(var(--muted)) / 0.1)"},onMouseEnter:function(e){n||(e.currentTarget.style.backgroundColor="var(--staff-list-hover-bg, hsl(var(--accent)))",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="var(--staff-list-hover-shadow, 0 4px 12px hsl(var(--muted)) / 0.15)")},onMouseLeave:function(e){n||(e.currentTarget.style.backgroundColor="var(--staff-list-bg, hsl(var(--card)))",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="var(--staff-list-shadow, 0 1px 3px hsl(var(--muted)) / 0.1)")},onClick:function(){return null==t?void 0:t(e)},children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[e.profilePhotoUrl?(0,a.jsx)("img",{src:e.profilePhotoUrl,alt:"".concat(e.firstName," ").concat(e.lastName),style:{width:"3rem",height:"3rem",borderRadius:"50%",objectFit:"cover",border:"2px solid var(--staff-list-avatar-border, hsl(var(--background)))"}}):(0,a.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"var(--staff-list-avatar-bg, hsl(var(--primary)))",color:"var(--staff-list-avatar-text, hsl(var(--primary-foreground)))",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"0.875rem",border:"2px solid var(--staff-list-avatar-border, hsl(var(--background)))"},children:i}),(0,a.jsx)("div",{style:{position:"absolute",bottom:"0",right:"0",width:"0.75rem",height:"0.75rem",borderRadius:"50%",backgroundColor:e.isActive?"var(--staff-list-status-active, #22c55e)":"var(--staff-list-status-inactive, #6b7280)",border:"2px solid var(--staff-list-avatar-border, hsl(var(--background)))"}})]}),(0,a.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,a.jsxs)("h3",{style:{fontWeight:"600",color:"var(--staff-list-name-color, hsl(var(--foreground)))",margin:0,fontSize:"0.875rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[e.firstName||"Unknown"," ",e.lastName||"User"]}),(0,a.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"500",padding:"0.125rem 0.5rem",borderRadius:"9999px",backgroundColor:"manager"===e.role?"var(--staff-list-role-manager-bg, hsl(var(--primary)) / 0.1)":"var(--staff-list-role-employee-bg, hsl(var(--secondary)) / 0.1)",color:"manager"===e.role?"var(--staff-list-role-manager-text, hsl(var(--primary)))":"var(--staff-list-role-employee-text, hsl(var(--secondary-foreground)))",textTransform:"capitalize"},children:e.role||"N/A"})]}),(0,a.jsx)("p",{style:{fontSize:"0.75rem",color:"var(--staff-list-email-color, hsl(var(--muted-foreground)))",margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email||"No email"}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},children:[(0,a.jsxs)("span",{style:{fontSize:"0.75rem",color:"var(--staff-list-department-color, hsl(var(--muted-foreground)))",display:"flex",alignItems:"center",gap:"0.25rem"},children:["\uD83C\uDFE2 ",e.departmentId||"No Department"]}),(0,a.jsxs)("span",{style:{fontSize:"0.75rem",color:"var(--staff-list-employment-color, hsl(var(--muted-foreground)))",display:"flex",alignItems:"center",gap:"0.25rem"},children:["\uD83D\uDCBC ",(null==(l=e.employmentType)?void 0:l.replace("_"," "))||"N/A"]})]})]}),(0,a.jsx)("div",{style:{color:"var(--staff-list-chevron-color, hsl(var(--muted-foreground)))",fontSize:"1rem",transform:n?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s ease-in-out"},children:"▶"})]})},e.id)})})]}):(0,a.jsxs)("div",{className:h,children:[x&&(0,a.jsx)(l.Card,{className:"hover:shadow-md transition-shadow duration-200 mb-6",children:(0,a.jsxs)(l.CardContent,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10"}),(0,a.jsx)(l.Input,{type:"text",placeholder:"Search staff by name or email...",className:"w-full pl-10 pr-16 transition-all duration-200",value:j,onChange:function(e){return b(e.target.value)}}),T&&j&&(0,a.jsx)("div",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 z-10",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-blue-500"})}),j&&(0,a.jsx)(l.Button,{onClick:Z,variant:"ghost",size:"sm",className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 rounded-full hover:bg-red-50 hover:text-red-600 text-gray-400 transition-all duration-200 z-20 border border-gray-200 bg-white shadow-sm hover:border-red-200 hover:shadow-md",type:"button",title:"Clear search (Esc)",children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})]})}),g&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.Select,{value:N,onValueChange:S,children:[(0,a.jsx)(l.SelectTrigger,{className:"w-40",children:(0,a.jsx)(l.SelectValue,{placeholder:"All Roles"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All Roles"}),(0,a.jsx)(l.SelectItem,{value:"super_admin",children:"Super Admin"}),(0,a.jsx)(l.SelectItem,{value:"admin",children:"Admin"}),(0,a.jsx)(l.SelectItem,{value:"manager",children:"Manager"}),(0,a.jsx)(l.SelectItem,{value:"employee",children:"Employee"}),(0,a.jsx)(l.SelectItem,{value:"guest",children:"Guest"})]})]}),(0,a.jsxs)(l.Select,{value:k,onValueChange:I,children:[(0,a.jsx)(l.SelectTrigger,{className:"w-32",children:(0,a.jsx)(l.SelectValue,{placeholder:"All Status"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"all",children:"All Status"}),(0,a.jsx)(l.SelectItem,{value:"active",children:"Active"}),(0,a.jsx)(l.SelectItem,{value:"inactive",children:"Inactive"})]})]})]})]}),j&&(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-xs flex items-center gap-2",children:T?(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-amber-600 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),'Searching for "',j,'"...']}):(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-green-600 font-medium",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Found 0 results",z&&(0,a.jsxs)("span",{className:"text-gray-500 font-normal",children:['for "',z,'"']})]})}),!T&&j&&(0,a.jsxs)("button",{onClick:Z,className:"text-xs text-gray-400 hover:text-red-500 transition-colors duration-200 flex items-center gap-1",children:[(0,a.jsx)(i.Z,{className:"h-3 w-3"}),"Clear"]})]})]})}),(0,a.jsxs)("div",{style:{padding:"2rem",textAlign:"center",color:"var(--staff-list-empty-color, hsl(var(--muted-foreground)))"},children:[(0,a.jsx)("div",{style:{width:"3rem",height:"3rem",borderRadius:"50%",backgroundColor:"var(--staff-list-empty-bg, hsl(var(--muted)))",margin:"0 auto 1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(o.Z,{className:"h-6 w-6"})}),(0,a.jsx)("p",{style:{margin:0,fontWeight:"500"},children:"No staff members found"}),(0,a.jsx)("p",{style:{margin:"0.5rem 0 0",fontSize:"0.875rem"},children:j?"Try adjusting your search criteria":"Add your first team member to get started"})]})]})};let h=u}}]);