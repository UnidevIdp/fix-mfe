"use strict";(self.webpackChunk_common_staff_hub=self.webpackChunk_common_staff_hub||[]).push([["38"],{3387:function(e,t,a){a.r(t),a.d(t,{StaffManagement:()=>x,default:()=>h});var r=a(4076),s=a(587),n=a(427),l=a(433),i=a(4295),c=a(623);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function d(e,t,a,r,s,n,l){try{var i=e[n](l),c=i.value}catch(e){a(e);return}i.done?t(c):Promise.resolve(c).then(r,s)}function f(e){return function(){var t=this,a=arguments;return new Promise(function(r,s){var n=e.apply(t,a);function l(e){d(n,r,s,l,i,"next",e)}function i(e){d(n,r,s,l,i,"throw",e)}l(void 0)})}}function u(e,t){var a,r,s,n={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return l.next=i(0),l.throw=i(1),l.return=i(2),"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(i){return function(c){var o=[i,c];if(a)throw TypeError("Generator is already executing.");for(;l&&(l=0,o[0]&&(n=0)),n;)try{if(a=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,r=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(!(s=(s=n.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){n=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){n.label=o[1];break}if(6===o[0]&&n.label<s[1]){n.label=s[1],s=o;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(o);break}s[2]&&n.ops.pop(),n.trys.pop();continue}o=t.call(e,n)}catch(e){o=[6,e],r=0}finally{a=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}}var x=function(e){var t,a,d=e.initialViewMode,x=void 0===d?"list":d;try{a=(0,n.UO)().id}catch(e){a=void 0}var h=(0,i.useMfeRouter)("staff-hub"),m=h.navigate,g=h.location,b=h.hasRouter,p=(0,l.useStaff)(),y=p.staff,v=p.loading,k=p.error,N=p.searchQuery,w=p.filters,j=p.selectedStaff,S=p.createStaff,C=p.updateStaff,A=p.deleteStaff,D=p.selectStaff,I=p.setSearchQuery,M=p.setFilters,U=p.refreshStaff,Z=(t=(0,s.useState)(function(){return"create"===x?"create":"edit"===x&&a?"edit":a?"detail":"list"}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var a,r,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n=[],l=!0,i=!1;try{for(s=s.call(e);!(l=(a=s.next()).done)&&(n.push(a.value),n.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==s.return||s.return()}finally{if(i)throw r}}return n}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=Z[0],F=Z[1];return(0,s.useEffect)(function(){if(a&&y.length>0){var e=y.find(function(e){return e.id===a});e&&D(e)}},[a,y,D]),(0,s.useEffect)(function(){var e=g.pathname;console.log("Current path:",e,"ID:",a),e.includes("/create")?(console.log("Setting mode to create"),F("create")):e.includes("/edit")&&a?(console.log("Setting mode to edit for ID:",a),F("edit")):e.includes("/view")&&a?(console.log("Setting mode to detail for ID:",a),F("detail")):!a||e.includes("/edit")||e.includes("/view")?(console.log("Setting mode to list"),F("list")):(console.log("Setting mode to detail (legacy) for ID:",a),F("detail"))},[g.pathname,a]),(0,r.jsx)(c.StaffManagementDashboard,{staff:y,selectedStaff:j,loading:v,error:k,searchQuery:N,filters:w,onStaffSelect:function(e){D(e),F("detail"),m("/staff/".concat(e.id,"/view"))},onStaffCreate:function(e){return f(function(){var t;return u(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,S(e)];case 1:return(t=a.sent())&&(F("detail"),m("/staff/".concat(t.id,"/view"))),[2,t];case 2:return console.error("Failed to create staff:",a.sent()),[2,null];case 3:return[2]}})})()},onStaffUpdate:function(e,t){return f(function(){var a;return u(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,C(e,t)];case 1:return(a=r.sent())&&(F("detail"),m("/staff/".concat(a.id,"/view"))),[2,a];case 2:return console.error("Failed to update staff:",r.sent()),[2,null];case 3:return[2]}})})()},onStaffDelete:function(e){return f(function(){var t;return u(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,A(e)];case 1:return(t=a.sent())&&(F("list"),m("/staff")),[2,t];case 2:return console.error("Failed to delete staff:",a.sent()),[2,!1];case 3:return[2]}})})()},onSearch:I,onFilterChange:M,onRefresh:U,initialViewMode:E,onViewModeChange:function(e){if(F(e),b)switch(e){case"list":m("/staff");break;case"create":m("/staff/create");break;case"edit":j&&m("/staff/".concat(j.id,"/edit"));break;case"detail":j&&m("/staff/".concat(j.id,"/view"))}},className:"w-full"})};let h=x},1262:function(e,t,a){a.r(t),a.d(t,{StaffProfile:()=>u,default:()=>x});var r=a(4076);a(587);var s=a(8008),n=a(2686),l=a(4621),i=a(6135),c=a(8460),o=a(378),d=a(8214),f=a(1525),u=function(e){var t,a,u,x=e.staff;if(!x)return(0,r.jsx)(s.Card,{className:"h-full",children:(0,r.jsxs)(s.CardContent,{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center mb-4",children:(0,r.jsx)(n.Z,{className:"h-8 w-8 text-gray-700 dark:text-gray-300"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-black dark:text-white mb-2",children:"No Staff Selected"}),(0,r.jsx)("p",{className:"text-sm text-gray-800 dark:text-gray-300",children:"Choose a team member from the list to view their profile"})]})});var h="".concat((null==(t=x.firstName)?void 0:t[0])||"?").concat((null==(a=x.lastName)?void 0:a[0])||"?").toUpperCase();return(0,r.jsxs)(s.Card,{className:"h-full",children:[(0,r.jsx)(s.CardHeader,{className:"pb-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(s.Avatar,{className:"h-20 w-20 border-4 border-background shadow-lg",children:[(0,r.jsx)(s.AvatarImage,{src:x.profilePhotoUrl,alt:"".concat(x.firstName||"Unknown"," ").concat(x.lastName||"User")}),(0,r.jsx)(s.AvatarFallback,{className:"text-2xl font-bold bg-primary text-primary-foreground",children:h})]}),(0,r.jsx)("div",{className:"absolute bottom-1 right-1 h-5 w-5 rounded-full border-4 border-background shadow-sm ".concat(x.isActive?"bg-green-500":"bg-gray-400")})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-black dark:text-white",children:[x.firstName||"Unknown"," ",x.lastName||"User"]}),(0,r.jsx)(s.Badge,{variant:"manager"===x.role?"default":"secondary",className:"capitalize font-medium",children:x.role||"N/A"}),(0,r.jsx)(s.Badge,{variant:x.isActive?"default":"outline",className:"font-medium ".concat(x.isActive?"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-100 dark:border-green-700":"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"),children:x.isActive?"Active":"Inactive"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"}),(0,r.jsx)("span",{children:x.email||"No email"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-800 dark:text-gray-200",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"}),(0,r.jsx)("span",{children:x.phoneNumber||"No phone number"})]})]})]})]})}),(0,r.jsxs)(s.CardContent,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(s.Card,{className:"p-4 bg-white dark:bg-gray-800/50 border-gray-300 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:[(0,r.jsx)(n.Z,{className:"h-3 w-3"}),"Employee ID"]}),(0,r.jsx)("p",{className:"text-sm font-bold text-black dark:text-white",children:x.employeeId||"N/A"})]})}),(0,r.jsx)(s.Card,{className:"p-4 bg-white dark:bg-gray-800/50 border-gray-300 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:[(0,r.jsx)(c.Z,{className:"h-3 w-3"}),"Department"]}),(0,r.jsx)("p",{className:"text-sm font-bold text-black dark:text-white",children:x.departmentId||"No Department"})]})}),(0,r.jsx)(s.Card,{className:"p-4 bg-white dark:bg-gray-800/50 border-gray-300 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:[(0,r.jsx)(o.Z,{className:"h-3 w-3"}),"Employment Type"]}),(0,r.jsx)("p",{className:"text-sm font-bold text-black dark:text-white capitalize",children:(null==(u=x.employmentType)?void 0:u.replace("_"," "))||"N/A"})]})}),(0,r.jsx)(s.Card,{className:"p-4 bg-white dark:bg-gray-800/50 border-gray-300 dark:border-gray-700 shadow-sm",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:[(0,r.jsx)(d.Z,{className:"h-3 w-3"}),"Start Date"]}),(0,r.jsx)("p",{className:"text-sm font-bold text-black dark:text-white",children:x.startDate?new Date(x.startDate).toLocaleDateString():"N/A"})]})})]}),x.skills&&x.skills.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.Z,{className:"h-5 w-5 text-blue-700 dark:text-blue-400"}),(0,r.jsx)("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Skills & Expertise"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:x.skills.map(function(e,t){return(0,r.jsxs)(s.Badge,{variant:"secondary",className:"px-3 py-1 text-sm font-bold bg-blue-100 text-blue-900 border-blue-300 hover:bg-blue-200 transition-colors dark:bg-blue-900/50 dark:text-blue-100 dark:border-blue-700 dark:hover:bg-blue-900/70",children:[(0,r.jsx)("span",{children:e.name}),(0,r.jsx)(s.Badge,{variant:"default",className:"ml-2 px-2 py-0 text-xs capitalize bg-blue-700 text-white dark:bg-blue-600 dark:text-white font-bold",children:e.level})]},t)})})]})]})]})};let x=u},8820:function(e,t,a){a.r(t),a.d(t,{StaffDetailPage:()=>l.default,StaffFilters:()=>n.default,StaffManagement:()=>s.default,StaffManagementDashboard:()=>r.default,StaffProfile:()=>i.default});var r=a(623),s=a(3387),n=a(1039),l=a(1674),i=a(1262)}}]);