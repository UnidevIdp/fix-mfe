"use strict";(self.webpackChunk_common_staff_hub=self.webpackChunk_common_staff_hub||[]).push([["194"],{6705:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(2600).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},2770:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(2600).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},3296:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(2600).Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},7059:function(e,t,n){n.r(t),n.d(t,{default:()=>f});var r=n(4076);n(587);var a=n(427),i=n(3169),o=n(1700),s=n(3922),l=n(7699),c=n(3387);let f=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.VK,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsxs)("div",{className:"px-4 py-3",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Staff Hub"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Cross-domain staff management"})]})}),(0,r.jsx)("main",{className:"container mx-auto px-4 py-6",children:(0,r.jsxs)(a.Z5,{children:[(0,r.jsx)(a.AW,{path:"/",element:(0,r.jsx)(o.Z,{})}),(0,r.jsx)(a.AW,{path:"/staff",element:(0,r.jsx)(c.default,{})}),(0,r.jsx)(a.AW,{path:"/staff/create",element:(0,r.jsx)(c.default,{initialViewMode:"create"})}),(0,r.jsx)(a.AW,{path:"/staff/:id/view",element:(0,r.jsx)(c.default,{initialViewMode:"detail"})}),(0,r.jsx)(a.AW,{path:"/staff/:id/edit",element:(0,r.jsx)(c.default,{initialViewMode:"edit"})}),(0,r.jsx)(a.AW,{path:"/staff-list",element:(0,r.jsx)(s.Z,{})}),(0,r.jsx)(a.AW,{path:"/staff-profile/:id",element:(0,r.jsx)(l.Z,{})}),(0,r.jsx)(a.AW,{path:"/staff/:id",element:(0,r.jsx)(c.default,{initialViewMode:"detail"})})]})})]})}),(0,r.jsx)(i.x7,{position:"top-right"})]})}},3387:function(e,t,n){n.r(t),n.d(t,{StaffManagement:()=>h,default:()=>y});var r=n(4076),a=n(587),i=n(427),o=n(433),s=n(4295),l=n(623);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){f(i,r,a,o,s,"next",e)}function s(e){f(i,r,a,o,s,"throw",e)}o(void 0)})}}function d(e,t){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){var c=[s,l];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var h=function(e){var t,n,f=e.initialViewMode,h=void 0===f?"list":f;try{n=(0,i.UO)().id}catch(e){n=void 0}var y=(0,s.useMfeRouter)("staff-hub"),p=y.navigate,m=y.location,x=y.hasRouter,v=(0,o.useStaff)(),b=v.staff,g=v.loading,j=v.error,w=v.searchQuery,S=v.filters,k=v.selectedStaff,A=v.createStaff,M=v.updateStaff,Z=v.deleteStaff,I=v.selectStaff,C=v.setSearchQuery,V=v.setFilters,W=v.refreshStaff,N=(t=(0,a.useState)(function(){return"create"===h?"create":"edit"===h&&n?"edit":n?"detail":"list"}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),D=N[0],F=N[1];return(0,a.useEffect)(function(){if(n&&b.length>0){var e=b.find(function(e){return e.id===n});e&&I(e)}},[n,b,I]),(0,a.useEffect)(function(){var e=m.pathname;console.log("Current path:",e,"ID:",n),e.includes("/create")?(console.log("Setting mode to create"),F("create")):e.includes("/edit")&&n?(console.log("Setting mode to edit for ID:",n),F("edit")):e.includes("/view")&&n?(console.log("Setting mode to detail for ID:",n),F("detail")):!n||e.includes("/edit")||e.includes("/view")?(console.log("Setting mode to list"),F("list")):(console.log("Setting mode to detail (legacy) for ID:",n),F("detail"))},[m.pathname,n]),(0,r.jsx)(l.StaffManagementDashboard,{staff:b,selectedStaff:k,loading:g,error:j,searchQuery:w,filters:S,onStaffSelect:function(e){I(e),F("detail"),p("/staff/".concat(e.id,"/view"))},onStaffCreate:function(e){return u(function(){var t;return d(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,A(e)];case 1:return(t=n.sent())&&(F("detail"),p("/staff/".concat(t.id,"/view"))),[2,t];case 2:return console.error("Failed to create staff:",n.sent()),[2,null];case 3:return[2]}})})()},onStaffUpdate:function(e,t){return u(function(){var n;return d(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,M(e,t)];case 1:return(n=r.sent())&&(F("detail"),p("/staff/".concat(n.id,"/view"))),[2,n];case 2:return console.error("Failed to update staff:",r.sent()),[2,null];case 3:return[2]}})})()},onStaffDelete:function(e){return u(function(){var t;return d(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Z(e)];case 1:return(t=n.sent())&&(F("list"),p("/staff")),[2,t];case 2:return console.error("Failed to delete staff:",n.sent()),[2,!1];case 3:return[2]}})})()},onSearch:C,onFilterChange:V,onRefresh:W,initialViewMode:D,onViewModeChange:function(e){if(F(e),x)switch(e){case"list":p("/staff");break;case"create":p("/staff/create");break;case"edit":k&&p("/staff/".concat(k.id,"/edit"));break;case"detail":k&&p("/staff/".concat(k.id,"/view"))}},className:"w-full"})};let y=h}}]);