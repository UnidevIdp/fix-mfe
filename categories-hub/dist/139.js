"use strict";(self.webpackChunk_ecommerce_categories_hub=self.webpackChunk_ecommerce_categories_hub||[]).push([["139"],{3679:function(e,t,r){r.d(t,{Z:()=>s});var n=r(7666),a=r.n(n),o=r(6632),i=r.n(o)()(a());i.push([e.id,"",""]);let s=i},3205:function(e,t,r){var n=r(4076),a=r(587),o=r.n(a),i=r(311),s=r(4494),c=r(3169),l=r(1371),u=r(7038),d=r(7403),f=r(5397),p=r(6860),m=r.n(p),g=r(8105),h=r.n(g),x=r(3369),y=r.n(x),b=r(9748),v=r.n(b),j=r(8581),w=r.n(j),N=r(6539),C=r.n(N),A=r(3679),k={};k.styleTagTransform=C(),k.setAttributes=v(),k.insert=y().bind(null,"head"),k.domAPI=h(),k.insertStyleElement=w(),m()(A.Z,k),A.Z&&A.Z.locals&&A.Z.locals,i.createRoot(document.getElementById("root")).render((0,n.jsx)(o().StrictMode,{children:(0,n.jsx)(function(){return(0,n.jsx)(s.BrowserRouter,{children:(0,n.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,n.jsxs)(s.Routes,{children:[(0,n.jsx)(s.Route,{path:"/",element:(0,n.jsx)(s.Navigate,{to:"/categories",replace:!0})}),(0,n.jsx)(s.Route,{path:"/categories",element:(0,n.jsx)(l.Z,{})}),(0,n.jsx)(s.Route,{path:"/categories/list",element:(0,n.jsx)(u.Z,{})}),(0,n.jsx)(s.Route,{path:"/categories/create",element:(0,n.jsx)(f.Z,{})}),(0,n.jsx)(s.Route,{path:"/categories/:id",element:(0,n.jsx)(d.Z,{})})]}),(0,n.jsx)(c.x7,{position:"top-right"})]})})},{})}))},2771:function(e,t,r){r.d(t,{default:()=>f});var n=r(4076),a=r(587),o=r(8008),i=r(6738);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,s,"next",e)}function s(e){c(o,n,a,i,s,"throw",e)}i(void 0)})}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var l=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u((0,a.useState)(e.initialViewMode||"list"),2),r=t[0],s=t[1],c=u((0,a.useState)(null),2),f=c[0],p=c[1],m=e.categories||[{id:"1",name:"Electronics",slug:"electronics",description:"Electronic devices and accessories",level:0,position:1,status:"APPROVED",isActive:!0,parentId:null},{id:"2",name:"Smartphones",slug:"smartphones",description:"Mobile phones and accessories",level:1,position:1,status:"APPROVED",isActive:!0,parentId:"1"},{id:"3",name:"Clothing",slug:"clothing",description:"Apparel and fashion items",level:0,position:2,status:"APPROVED",isActive:!0,parentId:null}],g=function(t){p(t),s("create"),e.onViewModeChange&&e.onViewModeChange("create")};if("create"===r)return(0,n.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:(0,n.jsx)(i.Z,{category:f,categories:m,onSubmit:function(t){return l(function(){return d(this,function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),!(f&&e.onCategoryUpdate))return[3,2];return[4,e.onCategoryUpdate(f.id,t)];case 1:return r.sent(),[3,4];case 2:if(!e.onCategoryCreate)return[3,4];return[4,e.onCategoryCreate(t)];case 3:r.sent(),r.label=4;case 4:return e.onRefresh&&e.onRefresh(),s("list"),p(null),e.onViewModeChange&&e.onViewModeChange("list"),[3,6];case 5:return console.error("Failed to save category:",r.sent()),[3,6];case 6:return[2]}})})()},onCancel:function(){s("list"),p(null),e.onViewModeChange&&e.onViewModeChange("list")}})});var h=function(e){if(!e.parentId)return e.name;var t=m.find(function(t){return t.id===e.parentId});return t?"".concat(t.name," → ").concat(e.name):e.name};return(0,n.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Category Management"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Organize and manage product categories hierarchically"})]}),(0,n.jsx)("div",{className:"bg-card rounded-lg shadow-sm p-6 mb-6 border",children:(0,n.jsxs)("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:function(){p(null),s("create"),e.onViewModeChange&&e.onViewModeChange("create")},className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"+ Create Category"}),(0,n.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Filters"})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Import"}),(0,n.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Export"})]})]})}),(0,n.jsx)("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-border",children:[(0,n.jsx)("thead",{className:"bg-muted/50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Name & Hierarchy"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Description"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Level"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,n.jsxs)("tbody",{className:"bg-card divide-y divide-border",children:[m.map(function(t){return(0,n.jsxs)("tr",{className:"hover:bg-muted/50",children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{style:{marginLeft:"".concat(20*t.level,"px")},children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:t.name}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:h(t)})]})})}),(0,n.jsx)("td",{className:"px-6 py-4 text-sm text-foreground",children:t.description||"-"}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:(0,o.cn)("inline-flex px-2 py-1 text-xs font-medium rounded-full","APPROVED"===t.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"PENDING"===t.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:t.status})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:["Level ",t.level]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,n.jsx)("button",{onClick:function(){return g(t)},className:"text-primary hover:text-primary/80 mr-3",children:"Edit"}),(0,n.jsx)("button",{onClick:function(){var r;return r=t.id,l(function(){return d(this,function(t){switch(t.label){case 0:if(!e.onCategoryDelete)return[3,3];if(!window.confirm("Are you sure you want to delete this category?"))return[3,2];return[4,e.onCategoryDelete(r)];case 1:t.sent(),e.onRefresh&&e.onRefresh(),t.label=2;case 2:return[3,4];case 3:console.log("Delete category:",r),t.label=4;case 4:return[2]}})})()},className:"text-destructive hover:text-destructive/80",children:"Delete"})]})]},t.id)}),0===m.length&&(0,n.jsx)("tr",{children:(0,n.jsxs)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted-foreground",children:[(0,n.jsx)("p",{className:"mb-2",children:"No categories found"}),(0,n.jsx)("p",{className:"text-sm",children:"Create your first category to get started."})]})})]})]})})]})}},8343:function(e,t,r){r.d(t,{default:()=>i});var n=r(4076);r(587);var a=r(8008);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t,r=e.categories,i=void 0===r?[]:r,s=e.onCategoryClick,c=e.selectedCategory,l=e.loading;return void 0!==l&&l?(0,n.jsx)("div",{className:"w-full",children:(0,n.jsxs)("div",{className:"animate-pulse",children:[(0,n.jsx)("div",{className:"h-10 bg-muted rounded mb-4"}),((function(e){if(Array.isArray(e))return o(e)})(t=[,,,,,])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,t){return(0,n.jsx)("div",{className:"h-16 bg-muted/50 rounded mb-2"},t)})]})}):0===i.length?(0,n.jsx)("div",{className:"w-full text-center py-12",children:(0,n.jsxs)("div",{className:"text-muted-foreground",children:[(0,n.jsx)("p",{className:"text-lg font-medium mb-2",children:"No categories found"}),(0,n.jsx)("p",{className:"text-sm",children:"Create your first category to get started"})]})}):(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"bg-card border border-border rounded-lg overflow-hidden shadow-sm",children:[(0,n.jsx)("div",{className:"bg-muted/30 border-b border-border",children:(0,n.jsxs)("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-sm font-medium text-muted-foreground",children:[(0,n.jsx)("div",{className:"col-span-5",children:"Category"}),(0,n.jsx)("div",{className:"col-span-3",children:"Description"}),(0,n.jsx)("div",{className:"col-span-2",children:"Level"}),(0,n.jsx)("div",{className:"col-span-2",children:"Status"})]})}),(0,n.jsx)("div",{className:"divide-y divide-border",children:i.map(function(e,t){return(0,n.jsxs)("div",{onClick:function(){return null==s?void 0:s(e)},className:(0,a.cn)("grid grid-cols-12 gap-4 px-6 py-4 cursor-pointer transition-all duration-200 hover:bg-accent/50",(null==c?void 0:c.id)===e.id&&"bg-primary/5 border-l-4 border-l-primary",t%2==0?"bg-background":"bg-muted/10"),children:[(0,n.jsx)("div",{className:"col-span-5 flex items-center",children:(0,n.jsxs)("div",{style:{marginLeft:"".concat(16*e.level,"px")},className:"min-w-0 flex-1",children:[e.level>0&&(0,n.jsx)("span",{className:"text-muted-foreground mr-2",children:"└─".repeat(1)}),(0,n.jsx)("h3",{className:"font-medium text-foreground truncate",children:e.name})]})}),(0,n.jsx)("div",{className:"col-span-3 flex items-center",children:(0,n.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.description||"No description"})}),(0,n.jsx)("div",{className:"col-span-2 flex items-center",children:(0,n.jsxs)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-secondary text-secondary-foreground rounded-full",children:["Level ",e.level]})}),(0,n.jsx)("div",{className:"col-span-2 flex items-center",children:(0,n.jsx)("span",{className:(0,a.cn)("inline-flex items-center px-2 py-1 text-xs font-medium rounded-full",e.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:e.isActive?"Active":"Inactive"})})]},e.id)})})]}),(0,n.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:["Showing ",i.length," ",1===i.length?"category":"categories"]})]})}},688:function(e,t,r){r.d(t,{useCategories:()=>d});var n=r(587),a=r(7498);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,c,"next",e)}function c(e){i(o,n,a,s,c,"throw",e)}s(void 0)})}}function c(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var l=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,r=void 0===t?1:t,o=e.limit,i=void 0===o?20:o,d=e.search,f=e.parentId,p=e.autoFetch,m=void 0===p||p,g=l((0,n.useState)([]),2),h=g[0],x=g[1],y=l((0,n.useState)(!1),2),b=y[0],v=y[1],j=l((0,n.useState)(null),2),w=j[0],N=j[1],C=l((0,n.useState)(0),2),A=C[0],k=C[1],S=(0,n.useCallback)(function(){return s(function(){var e,t,n;return u(this,function(o){switch(o.label){case 0:v(!0),N(null),o.label=1;case 1:return o.trys.push([1,7,8,9]),e=[{id:"1",name:"Electronics",description:"Electronic devices and accessories",level:0,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"2",name:"Smartphones",description:"Mobile phones and accessories",parentId:"1",level:1,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"3",name:"Laptops",description:"Portable computers and accessories",parentId:"1",level:1,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"4",name:"Gaming Laptops",description:"High-performance gaming laptops",parentId:"3",level:2,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"5",name:"Fashion",description:"Clothing and accessories",level:0,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"6",name:"Men's Clothing",description:"Clothing for men",parentId:"5",level:1,isActive:!1,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}],[4,new Promise(function(e){return setTimeout(e,500)})];case 2:o.sent(),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,a.categoriesApi.getCategories({page:r,limit:i,search:d,parentId:f})];case 4:if((t=o.sent()).success&&t.data)x(t.data.categories),k(t.data.total);else throw Error("Backend not available, using mock data");return[3,6];case 5:return console.log("Using mock data:",o.sent()),x(e),k(e.length),[3,6];case 6:return[3,9];case 7:return N(c(n=o.sent(),Error)?n.message:"An unexpected error occurred"),[3,9];case 8:return v(!1),[7];case 9:return[2]}})})()},[r,i,d,f]),O=(0,n.useCallback)(function(e){return s(function(){var t,r,n;return u(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),[4,a.categoriesApi.createCategory(e)];case 1:if(!(t=o.sent()).success)return[3,3];return[4,S()];case 2:return o.sent(),[2,!0];case 3:return N((null==(r=t.error)?void 0:r.message)||"Failed to create category"),[2,!1];case 4:return[3,6];case 5:return N(c(n=o.sent(),Error)?n.message:"Failed to create category"),[2,!1];case 6:return[2]}})})()},[S]),I=(0,n.useCallback)(function(e,t){return s(function(){var r,n,o;return u(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.categoriesApi.updateCategory(e,t)];case 1:if((r=i.sent()).success)return x(function(r){return r.map(function(r){var n,a;return r.id===e?(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},r,t),a=a={updatedAt:new Date().toISOString()},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}),n):r})}),[2,!0];return N((null==(n=r.error)?void 0:n.message)||"Failed to update category"),[2,!1];case 2:return N(c(o=i.sent(),Error)?o.message:"Failed to update category"),[2,!1];case 3:return[2]}})})()},[]),P=(0,n.useCallback)(function(e){return s(function(){var t,r,n;return u(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,a.categoriesApi.deleteCategory(e)];case 1:if((t=o.sent()).success)return x(function(t){return t.filter(function(t){return t.id!==e})}),k(function(e){return e-1}),[2,!0];return N((null==(r=t.error)?void 0:r.message)||"Failed to delete category"),[2,!1];case 2:return N(c(n=o.sent(),Error)?n.message:"Failed to delete category"),[2,!1];case 3:return[2]}})})()},[]);return(0,n.useEffect)(function(){m&&S()},[m,S]),{categories:h,loading:b,error:w,total:A,refetch:S,createCategory:O,updateCategory:I,deleteCategory:P}}},7498:function(e,t,r){function n(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,c,"next",e)}function c(e){n(i,a,o,s,c,"throw",e)}s(void 0)})}}function o(e,t){var r,n,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){var l=[s,c];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}r.d(t,{categoriesApi:()=>s});var i=(0,r(4295).createServiceClient)("categories"),s={getCategories:function(e){return a(function(){var t,r,n;return o(this,function(a){return t=new URLSearchParams,(null==e?void 0:e.page)&&t.append("page",e.page.toString()),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.parentId)&&t.append("parentId",e.parentId),n=(r=t.toString())?"/categories?".concat(r):"/categories",[2,i.get(n)]})})()},getCategoryById:function(e){return a(function(){return o(this,function(t){return[2,i.get("/categories/".concat(e))]})})()},createCategory:function(e){return a(function(){return o(this,function(t){return[2,i.post("/categories",e)]})})()},updateCategory:function(e,t){return a(function(){return o(this,function(r){return[2,i.put("/categories/".concat(e),t)]})})()},deleteCategory:function(e){return a(function(){return o(this,function(t){return[2,i.delete("/categories/".concat(e))]})})()},getCategoryTree:function(){return a(function(){return o(this,function(e){return[2,i.get("/categories/tree")]})})()},bulkCreateCategories:function(e){return a(function(){return o(this,function(t){return[2,i.post("/categories/bulk",{categories:e})]})})()},bulkUpdateCategories:function(e){return a(function(){return o(this,function(t){return[2,i.put("/categories/bulk",{updates:e})]})})()}}}}]);