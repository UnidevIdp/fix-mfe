"use strict";(self.webpackChunk_ecommerce_categories_hub=self.webpackChunk_ecommerce_categories_hub||[]).push([["208"],{2771:function(e,t,r){r.r(t),r.d(t,{default:()=>x});var n=r(4076),a=r(587),s=r(8008),o=r(6738);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,a,s,o){try{var i=e[s](o),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var s=e.apply(t,r);function o(e){l(s,n,a,o,i,"next",e)}function i(e){l(s,n,a,o,i,"throw",e)}o(void 0)})}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var s=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=i(0),o.throw=i(1),o.return=i(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(l){var c=[i,l];if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,n=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(6===c[0]&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],n=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d((0,a.useState)(e.initialViewMode||"list"),2),r=t[0],i=t[1],l=d((0,a.useState)(null),2),x=l[0],m=l[1],p=e.categories||[{id:"1",name:"Electronics",slug:"electronics",description:"Electronic devices and accessories",level:0,position:1,status:"APPROVED",isActive:!0,parentId:null},{id:"2",name:"Smartphones",slug:"smartphones",description:"Mobile phones and accessories",level:1,position:1,status:"APPROVED",isActive:!0,parentId:"1"},{id:"3",name:"Clothing",slug:"clothing",description:"Apparel and fashion items",level:0,position:2,status:"APPROVED",isActive:!0,parentId:null}],f=function(t){m(t),i("create"),e.onViewModeChange&&e.onViewModeChange("create")};if("create"===r)return(0,n.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:(0,n.jsx)(o.Z,{category:x,categories:p,onSubmit:function(t){return c(function(){return u(this,function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),!(x&&e.onCategoryUpdate))return[3,2];return[4,e.onCategoryUpdate(x.id,t)];case 1:return r.sent(),[3,4];case 2:if(!e.onCategoryCreate)return[3,4];return[4,e.onCategoryCreate(t)];case 3:r.sent(),r.label=4;case 4:return e.onRefresh&&e.onRefresh(),i("list"),m(null),e.onViewModeChange&&e.onViewModeChange("list"),[3,6];case 5:return console.error("Failed to save category:",r.sent()),[3,6];case 6:return[2]}})})()},onCancel:function(){i("list"),m(null),e.onViewModeChange&&e.onViewModeChange("list")}})});var h=function(e){if(!e.parentId)return e.name;var t=p.find(function(t){return t.id===e.parentId});return t?"".concat(t.name," â†’ ").concat(e.name):e.name};return(0,n.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Category Management"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Organize and manage product categories hierarchically"})]}),(0,n.jsx)("div",{className:"bg-card rounded-lg shadow-sm p-6 mb-6 border",children:(0,n.jsxs)("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:function(){m(null),i("create"),e.onViewModeChange&&e.onViewModeChange("create")},className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"+ Create Category"}),(0,n.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Filters"})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Import"}),(0,n.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-border rounded-lg hover:bg-accent transition-colors",children:"Export"})]})]})}),(0,n.jsx)("div",{className:"bg-card rounded-lg shadow-sm border overflow-hidden",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-border",children:[(0,n.jsx)("thead",{className:"bg-muted/50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Name & Hierarchy"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Description"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Level"}),(0,n.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),(0,n.jsxs)("tbody",{className:"bg-card divide-y divide-border",children:[p.map(function(t){return(0,n.jsxs)("tr",{className:"hover:bg-muted/50",children:[(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{style:{marginLeft:"".concat(20*t.level,"px")},children:[(0,n.jsx)("div",{className:"text-sm font-medium text-foreground",children:t.name}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:h(t)})]})})}),(0,n.jsx)("td",{className:"px-6 py-4 text-sm text-foreground",children:t.description||"-"}),(0,n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,n.jsx)("span",{className:(0,s.cn)("inline-flex px-2 py-1 text-xs font-medium rounded-full","APPROVED"===t.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"PENDING"===t.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:t.status})}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:["Level ",t.level]}),(0,n.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,n.jsx)("button",{onClick:function(){return f(t)},className:"text-primary hover:text-primary/80 mr-3",children:"Edit"}),(0,n.jsx)("button",{onClick:function(){var r;return r=t.id,c(function(){return u(this,function(t){switch(t.label){case 0:if(!e.onCategoryDelete)return[3,3];if(!window.confirm("Are you sure you want to delete this category?"))return[3,2];return[4,e.onCategoryDelete(r)];case 1:t.sent(),e.onRefresh&&e.onRefresh(),t.label=2;case 2:return[3,4];case 3:console.log("Delete category:",r),t.label=4;case 4:return[2]}})})()},className:"text-destructive hover:text-destructive/80",children:"Delete"})]})]},t.id)}),0===p.length&&(0,n.jsx)("tr",{children:(0,n.jsxs)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted-foreground",children:[(0,n.jsx)("p",{className:"mb-2",children:"No categories found"}),(0,n.jsx)("p",{className:"text-sm",children:"Create your first category to get started."})]})})]})]})})]})}}}]);