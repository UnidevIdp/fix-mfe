"use strict";(self.webpackChunk_ecommerce_categories_hub=self.webpackChunk_ecommerce_categories_hub||[]).push([["784"],{6738:function(e,r,t){t.d(r,{Z:()=>u});var n=t(4076),o=t(587),s=t(8008);function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){i(e,r,t[r])})}return e}function d(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var s=[],a=!0,i=!1;try{for(o=o.call(e);!(a=(t=o.next()).done)&&(s.push(t.value),!r||s.length!==r);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}return s}}(e,r)||function(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,r)}}(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var r,t,a=e.category,u=e.categories,m=void 0===u?[]:u,g=e.onSubmit,x=e.onCancel,f=c((0,o.useState)({name:(null==a?void 0:a.name)||"",slug:(null==a?void 0:a.slug)||"",description:(null==a?void 0:a.description)||"",imageUrl:(null==a?void 0:a.imageUrl)||"",bannerUrl:(null==a?void 0:a.bannerUrl)||"",parentId:(null==a?void 0:a.parentId)||"",position:(null==a?void 0:a.position)||1,status:(null==a?void 0:a.status)||"DRAFT",isActive:(null==a?void 0:a.isActive)===void 0||a.isActive,metadata:(null==a?void 0:a.metadata)?JSON.stringify(a.metadata,null,2):"",tier:(null==a?void 0:a.tier)||"BASIC",tags:(null==a||null==(r=a.tags)?void 0:r.join(", "))||"",seoTitle:(null==a?void 0:a.seoTitle)||"",seoDescription:(null==a?void 0:a.seoDescription)||"",seoKeywords:(null==a||null==(t=a.seoKeywords)?void 0:t.join(", "))||""}),2),p=f[0],b=f[1],h=c((0,o.useState)(0),2),v=h[0],j=h[1],y=c((0,o.useState)({}),2),N=y[0],w=y[1],k=["Basic Information","Hierarchy & Position","Media & SEO","Settings & Metadata","Review"],C=function(){if(!a)return m.filter(function(e){return e.id!==(null==a?void 0:a.id)});var e=new Set([a.id]),r=function(t){m.forEach(function(n){n.parentId!==t||e.has(n.id)||(e.add(n.id),r(n.id))})};return r(a.id),m.filter(function(r){return!e.has(r.id)})}(),O=function(e,r){if(b(function(t){return d(l({},t),i({},e,r))}),N[e]&&w(function(r){return d(l({},r),i({},e,""))}),"name"===e&&(!a||!p.slug)){var t=r.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();b(function(e){return d(l({},e),{slug:t})})}},S=function(e){var r={};switch(e){case 0:p.name.trim()||(r.name="Category name is required"),p.slug.trim()||(r.slug="Category slug is required"),p.slug.trim()&&!/^[a-z0-9-]+$/.test(p.slug)&&(r.slug="Slug must contain only lowercase letters, numbers, and hyphens");break;case 1:p.position<1&&(r.position="Position must be at least 1");break;case 2:p.imageUrl&&!U(p.imageUrl)&&(r.imageUrl="Please enter a valid image URL"),p.bannerUrl&&!U(p.bannerUrl)&&(r.bannerUrl="Please enter a valid banner URL");break;case 3:if(p.metadata)try{JSON.parse(p.metadata)}catch(e){r.metadata="Invalid JSON format"}}return w(r),0===Object.keys(r).length},U=function(e){try{return new URL(e),!0}catch(e){return!1}};return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:a?"Edit Category":"Create New Category"}),(0,n.jsxs)("p",{className:"text-muted-foreground mt-1",children:["Complete all required fields to ",a?"update":"create"," your category"]})]}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)("div",{className:"flex items-center justify-between",children:k.map(function(e,r){return(0,n.jsxs)("div",{className:(0,s.cn)("flex items-center",r<k.length-1&&"flex-1"),children:[(0,n.jsx)("div",{className:(0,s.cn)("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",r===v?"bg-primary text-primary-foreground":r<v?"bg-green-500 text-white":"bg-muted text-muted-foreground"),children:r+1}),(0,n.jsx)("span",{className:(0,s.cn)("ml-2 text-sm font-medium",r===v?"text-foreground":"text-muted-foreground"),children:e}),r<k.length-1&&(0,n.jsx)("div",{className:(0,s.cn)("flex-1 h-0.5 mx-4",r<v?"bg-green-500":"bg-muted")})]},e)})})}),(0,n.jsx)("div",{className:"mb-8 min-h-[400px]",children:function(){switch(v){case 0:return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Category Name *"}),(0,n.jsx)("input",{type:"text",value:p.name,onChange:function(e){return O("name",e.target.value)},placeholder:"Electronics, Clothing, Books...",className:(0,s.cn)("w-full px-3 py-2 border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",N.name?"border-destructive":"border-border")}),N.name&&(0,n.jsx)("p",{className:"mt-1 text-sm text-destructive",children:N.name})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Slug *"}),(0,n.jsx)("input",{type:"text",value:p.slug,onChange:function(e){return O("slug",e.target.value)},placeholder:"electronics, clothing, books",className:(0,s.cn)("w-full px-3 py-2 border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm",N.slug?"border-destructive":"border-border")}),N.slug&&(0,n.jsx)("p",{className:"mt-1 text-sm text-destructive",children:N.slug}),(0,n.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"URL-friendly version of the name (auto-generated from name)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Description"}),(0,n.jsx)("textarea",{value:p.description,onChange:function(e){return O("description",e.target.value)},placeholder:"Describe what this category contains...",rows:3,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Category Tier"}),(0,n.jsxs)("select",{value:p.tier,onChange:function(e){return O("tier",e.target.value)},className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,n.jsx)("option",{value:"BASIC",children:"Basic"}),(0,n.jsx)("option",{value:"PREMIUM",children:"Premium"}),(0,n.jsx)("option",{value:"ENTERPRISE",children:"Enterprise"})]})]})]});case 1:return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Parent Category"}),(0,n.jsxs)("select",{value:p.parentId,onChange:function(e){return O("parentId",e.target.value)},className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,n.jsx)("option",{value:"",children:"No Parent (Top Level)"}),C.map(function(e){return(0,n.jsxs)("option",{value:e.id,children:["  ".repeat(e.level),e.name]},e.id)})]}),(0,n.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Select a parent category to create a subcategory"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Position *"}),(0,n.jsx)("input",{type:"number",value:p.position,onChange:function(e){return O("position",Number(e.target.value))},min:"1",className:(0,s.cn)("w-full px-3 py-2 border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",N.position?"border-destructive":"border-border")}),N.position&&(0,n.jsx)("p",{className:"mt-1 text-sm text-destructive",children:N.position}),(0,n.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Order in which this category appears (lower numbers appear first)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Tags (comma-separated)"}),(0,n.jsx)("input",{type:"text",value:p.tags,onChange:function(e){return O("tags",e.target.value)},placeholder:"popular, featured, sale",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]});case 2:return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Category Image URL"}),(0,n.jsx)("input",{type:"url",value:p.imageUrl,onChange:function(e){return O("imageUrl",e.target.value)},placeholder:"https://example.com/category-image.jpg",className:(0,s.cn)("w-full px-3 py-2 border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",N.imageUrl?"border-destructive":"border-border")}),N.imageUrl&&(0,n.jsx)("p",{className:"mt-1 text-sm text-destructive",children:N.imageUrl})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Banner Image URL"}),(0,n.jsx)("input",{type:"url",value:p.bannerUrl,onChange:function(e){return O("bannerUrl",e.target.value)},placeholder:"https://example.com/category-banner.jpg",className:(0,s.cn)("w-full px-3 py-2 border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",N.bannerUrl?"border-destructive":"border-border")}),N.bannerUrl&&(0,n.jsx)("p",{className:"mt-1 text-sm text-destructive",children:N.bannerUrl})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"SEO Title"}),(0,n.jsx)("input",{type:"text",value:p.seoTitle,onChange:function(e){return O("seoTitle",e.target.value)},placeholder:"Best Electronics - Shop Online",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"SEO Description"}),(0,n.jsx)("textarea",{value:p.seoDescription,onChange:function(e){return O("seoDescription",e.target.value)},placeholder:"Shop the best electronics online...",rows:3,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"SEO Keywords (comma-separated)"}),(0,n.jsx)("input",{type:"text",value:p.seoKeywords,onChange:function(e){return O("seoKeywords",e.target.value)},placeholder:"electronics, gadgets, technology",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]});case 3:return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Status"}),(0,n.jsxs)("select",{value:p.status,onChange:function(e){return O("status",e.target.value)},className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,n.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,n.jsx)("option",{value:"PENDING",children:"Pending Approval"}),(0,n.jsx)("option",{value:"APPROVED",children:"Approved"}),(0,n.jsx)("option",{value:"REJECTED",children:"Rejected"})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"isActive",checked:p.isActive,onChange:function(e){return O("isActive",e.target.checked)},className:"h-4 w-4 text-primary focus:ring-primary border-border rounded"}),(0,n.jsx)("label",{htmlFor:"isActive",className:"text-sm text-foreground",children:"Active (visible to users)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Metadata (JSON)"}),(0,n.jsx)("textarea",{value:p.metadata,onChange:function(e){return O("metadata",e.target.value)},placeholder:'{"customField": "value", "feature": true}',rows:6,className:(0,s.cn)("w-full px-3 py-2 border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary font-mono text-sm",N.metadata?"border-destructive":"border-border")}),N.metadata&&(0,n.jsx)("p",{className:"mt-1 text-sm text-destructive",children:N.metadata}),(0,n.jsx)("p",{className:"mt-1 text-xs text-muted-foreground",children:"Optional JSON metadata for custom fields and configuration"})]})]});case 4:var e;return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Review Category Details"}),(0,n.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Name:"}),(0,n.jsx)("p",{className:"text-foreground",children:p.name})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Slug:"}),(0,n.jsx)("p",{className:"text-foreground font-mono text-sm",children:p.slug})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Description:"}),(0,n.jsx)("p",{className:"text-foreground",children:p.description||"No description"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Parent:"}),(0,n.jsx)("p",{className:"text-foreground",children:p.parentId?(null==(e=m.find(function(e){return e.id===p.parentId}))?void 0:e.name)||"Unknown":"Top Level"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Position:"}),(0,n.jsx)("p",{className:"text-foreground",children:p.position})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),(0,n.jsx)("p",{className:"text-foreground",children:p.status})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Tier:"}),(0,n.jsx)("p",{className:"text-foreground",children:p.tier})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Active:"}),(0,n.jsx)("p",{className:"text-foreground",children:p.isActive?"Yes":"No"})]})]})]})]});default:return null}}()}),(0,n.jsxs)("div",{className:"flex justify-between pt-6 border-t",children:[(0,n.jsx)("button",{onClick:function(){j(function(e){return Math.max(e-1,0)})},disabled:0===v,className:"px-6 py-3 border border-border rounded-md text-foreground hover:bg-accent transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:x,className:"px-6 py-3 border border-border rounded-md text-foreground hover:bg-accent transition-colors",children:"Cancel"}),v<k.length-1?(0,n.jsx)("button",{onClick:function(){S(v)&&j(function(e){return Math.min(e+1,k.length-1)})},className:"px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Next"}):(0,n.jsx)("button",{onClick:function(){if(S(v)){var e;g(d(l({},p),{tags:p.tags?p.tags.split(",").map(function(e){return e.trim()}).filter(Boolean):void 0,seoKeywords:p.seoKeywords?p.seoKeywords.split(",").map(function(e){return e.trim()}).filter(Boolean):void 0,metadata:p.metadata?JSON.parse(p.metadata):void 0,parentId:p.parentId||null,position:Number(p.position),level:p.parentId?((null==(e=m.find(function(e){return e.id===p.parentId}))?void 0:e.level)||0)+1:0}))}},className:"px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:a?"Update Category":"Create Category"})]})]})]})}}}]);