"use strict";(self.webpackChunk_ecommerce_products_hub=self.webpackChunk_ecommerce_products_hub||[]).push([["710"],{6658:function(e,r,t){t.r(r),t.d(r,{ProductsForm:()=>v});var n=t(4076),s=t(587),a=t.n(s),c=t(520),i=t(9057),l=t(578),o=t(3290),u=t(8008),d=t(8667);function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function p(e,r,t,n,s,a,c){try{var i=e[a](c),l=i.value}catch(e){t(e);return}i.done?r(l):Promise.resolve(l).then(n,s)}function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){m(e,r,t[r])})}return e}function y(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):(function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t})(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}function j(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a=[],c=!0,i=!1;try{for(s=s.call(e);!(c=(t=s.next()).done)&&(a.push(t.value),!r||a.length!==r);c=!0);}catch(e){i=!0,n=e}finally{try{c||null==s.return||s.return()}finally{if(i)throw n}}return a}}(e,r)||b(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,r){if(e){if("string"==typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,r)}}t(2425);var v=function(e){var r=e.onSuccess,t=e.onCancel,s=j(a().useState([]),2),h=s[0],b=s[1],v=j(a().useState([]),2),g=v[0],w=v[1],S=j(a().useState(""),2),N=S[0],I=S[1],P=(0,c.cI)(),O=P.register,C=P.handleSubmit,k=(P.watch,P.setValue),A=P.formState.errors,L=(0,d.gl)(),F=(0,d.L_)().data,T=a().useMemo(function(){return(null==F?void 0:F.data)||[]},[F]),D=function(e){b(h.filter(function(r,t){return t!==e}))},q=function(e,r,t){var n=f(h);n[e]=y(x({},n[e]),m({},r,t)),b(n)},E=function(){N.trim()&&!g.includes(N.trim())&&(w(f(g).concat([N.trim()])),I(""))},K=function(e){w(g.filter(function(r){return r!==e}))};return(0,n.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,n.jsxs)(u.Card,{children:[(0,n.jsxs)(u.CardHeader,{children:[(0,n.jsx)(u.CardTitle,{children:"Create New Product"}),(0,n.jsx)(u.CardDescription,{children:"Add a new product to your catalog with all the necessary details"})]}),(0,n.jsx)(u.CardContent,{children:(0,n.jsxs)("form",{onSubmit:C(function(e){var t;return(t=function(){var t,n,s;return function(e,r){var t,n,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){var o=[i,l];if(t)throw TypeError("Generator is already executing.");for(;c&&(c=0,o[0]&&(a=0)),a;)try{if(t=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(e,a)}catch(e){o=[6,e],n=0}finally{t=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}}(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),s=y(x({},e),{attributes:h,tags:g,price:e.price.toString(),comparePrice:null==(t=e.comparePrice)?void 0:t.toString(),costPrice:null==(n=e.costPrice)?void 0:n.toString()}),[4,L.mutateAsync(s)];case 1:return a.sent(),null==r||r(),[3,3];case 2:return console.error("Failed to create product:",a.sent()),[3,3];case 3:return[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,s){var a=t.apply(e,r);function c(e){p(a,n,s,c,i,"next",e)}function i(e){p(a,n,s,c,i,"throw",e)}c(void 0)})})()}),className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"name",children:"Product Name *"}),(0,n.jsx)(u.Input,y(x({id:"name"},O("name",{required:"Product name is required"})),{placeholder:"Enter product name"})),A.name&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:A.name.message})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"sku",children:"SKU *"}),(0,n.jsx)(u.Input,y(x({id:"sku"},O("sku",{required:"SKU is required"})),{placeholder:"Enter product SKU"})),A.sku&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:A.sku.message})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"categoryId",children:"Category *"}),(0,n.jsxs)(u.Select,{onValueChange:function(e){return k("categoryId",e)},children:[(0,n.jsx)(u.SelectTrigger,{children:(0,n.jsx)(u.SelectValue,{placeholder:"Select category"})}),(0,n.jsx)(u.SelectContent,{children:T.map(function(e){return(0,n.jsx)(u.SelectItem,{value:e.id,children:e.name},e.id)})})]}),A.categoryId&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:A.categoryId.message})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"vendorId",children:"Vendor ID *"}),(0,n.jsx)(u.Input,y(x({id:"vendorId"},O("vendorId",{required:"Vendor ID is required"})),{placeholder:"Enter vendor ID"})),A.vendorId&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:A.vendorId.message})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"description",children:"Description"}),(0,n.jsx)(u.Textarea,y(x({id:"description"},O("description")),{placeholder:"Enter product description",rows:4}))]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"price",children:"Price *"}),(0,n.jsx)(u.Input,y(x({id:"price",type:"number",step:"0.01"},O("price",{required:"Price is required"})),{placeholder:"0.00"})),A.price&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:A.price.message})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"comparePrice",children:"Compare Price"}),(0,n.jsx)(u.Input,y(x({id:"comparePrice",type:"number",step:"0.01"},O("comparePrice")),{placeholder:"0.00"}))]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"costPrice",children:"Cost Price"}),(0,n.jsx)(u.Input,y(x({id:"costPrice",type:"number",step:"0.01"},O("costPrice")),{placeholder:"0.00"}))]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"quantity",children:"Quantity"}),(0,n.jsx)(u.Input,y(x({id:"quantity",type:"number"},O("quantity",{valueAsNumber:!0})),{placeholder:"0"}))]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"minOrderQty",children:"Min Order Quantity"}),(0,n.jsx)(u.Input,y(x({id:"minOrderQty",type:"number"},O("minOrderQty",{valueAsNumber:!0})),{placeholder:"1"}))]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),(0,n.jsx)(u.Input,y(x({id:"lowStockThreshold",type:"number"},O("lowStockThreshold",{valueAsNumber:!0})),{placeholder:"10"}))]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"weight",children:"Weight (kg)"}),(0,n.jsx)(u.Input,y(x({id:"weight"},O("weight")),{placeholder:"0.0"}))]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{htmlFor:"searchKeywords",children:"Search Keywords"}),(0,n.jsx)(u.Input,y(x({id:"searchKeywords"},O("searchKeywords")),{placeholder:"Keywords for search optimization"}))]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(u.Label,{children:"Tags"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:g.map(function(e){return(0,n.jsxs)(u.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e,(0,n.jsx)(u.Button,{type:"button",variant:"ghost",size:"sm",className:"ml-1 h-4 w-4 p-0",onClick:function(){return K(e)},children:(0,n.jsx)(i.Z,{className:"h-3 w-3"})})]},e)})}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(u.Input,{value:N,onChange:function(e){return I(e.target.value)},placeholder:"Add a tag",onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),E())}}),(0,n.jsx)(u.Button,{type:"button",variant:"outline",onClick:E,children:"Add"})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(u.Label,{children:"Product Attributes"}),(0,n.jsxs)(u.Button,{type:"button",variant:"outline",size:"sm",onClick:function(){b(f(h).concat([{id:"attr-".concat(Date.now()),name:"",value:"",type:"text"}]))},children:[(0,n.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),"Add Attribute"]})]}),h.map(function(e,r){return(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4 p-4 border rounded-lg",children:[(0,n.jsx)(u.Input,{placeholder:"Attribute name",value:e.name,onChange:function(e){return q(r,"name",e.target.value)}}),(0,n.jsx)(u.Input,{placeholder:"Attribute value",value:e.value,onChange:function(e){return q(r,"value",e.target.value)}}),(0,n.jsxs)(u.Select,{value:e.type,onValueChange:function(e){return q(r,"type",e)},children:[(0,n.jsx)(u.SelectTrigger,{children:(0,n.jsx)(u.SelectValue,{})}),(0,n.jsxs)(u.SelectContent,{children:[(0,n.jsx)(u.SelectItem,{value:"text",children:"Text"}),(0,n.jsx)(u.SelectItem,{value:"number",children:"Number"}),(0,n.jsx)(u.SelectItem,{value:"color",children:"Color"}),(0,n.jsx)(u.SelectItem,{value:"size",children:"Size"}),(0,n.jsx)(u.SelectItem,{value:"boolean",children:"Boolean"})]})]}),(0,n.jsx)(u.Button,{type:"button",variant:"outline",size:"sm",onClick:function(){return D(r)},children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})]},e.id)})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[t&&(0,n.jsx)(u.Button,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,n.jsx)(u.Button,{type:"submit",disabled:L.isPending,className:"min-w-[120px]",children:L.isPending?(0,n.jsx)(n.Fragment,{children:"Loading..."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Create Product"]})})]})]})})]})})}}}]);